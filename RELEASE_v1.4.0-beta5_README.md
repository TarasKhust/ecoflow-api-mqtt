# üöÄ EcoFlow API v1.4.0-beta5 - Pre-Release

**Release Date**: 12 –≥—Ä—É–¥–Ω—è 2025  
**–¢–∏–ø**: Beta (—Ç–µ—Å—Ç–æ–≤–∞ –≤–µ—Ä—Å—ñ—è)

---

## üì¶ –©–æ –Ω–æ–≤–æ–≥–æ

### ‚ú® –ì–æ–ª–æ–≤–Ω—ñ –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è:

1. **üêõ –í–∏–ø—Ä–∞–≤–ª–µ–Ω–æ –ª–æ–≥—ñ–∫—É —ñ–Ω—Ç–µ—Ä–≤–∞–ª—É –æ–Ω–æ–≤–ª–µ–Ω–Ω—è**
   - –í–∏–¥–∞–ª–µ–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –∑–±—ñ–ª—å—à–µ–Ω–Ω—è —ñ–Ω—Ç–µ—Ä–≤–∞–ª—É (√ó 2) –ø—Ä–∏ MQTT
   - –¢–µ–ø–µ—Ä —ñ–Ω—Ç–µ—Ä–≤–∞–ª –∑–∞–≤–∂–¥–∏ —Ç–∞–∫–∏–π, —è–∫ –≤–∏ –≤—Å—Ç–∞–Ω–æ–≤–∏–ª–∏ –≤ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è—Ö
   - 15 —Å–µ–∫—É–Ω–¥ = —Ä—ñ–≤–Ω–æ 15 —Å–µ–∫—É–Ω–¥ ‚úÖ

2. **üìä –î–µ—Ç–∞–ª—å–Ω–µ –ª–æ–≥—É–≤–∞–Ω–Ω—è**
   - –î–æ–¥–∞–Ω–æ timestamp –∫–æ–∂–Ω–æ–≥–æ REST –∑–∞–ø–∏—Ç—É
   - –ü–æ–∫–∞–∑—É—î —Ä–µ–∞–ª—å–Ω–∏–π —á–∞—Å –º—ñ–∂ –∑–∞–ø–∏—Ç–∞–º–∏
   - –í—ñ–¥–æ–±—Ä–∞–∂–∞—î –í–°–Ü –∑–º—ñ–Ω–µ–Ω—ñ –ø–æ–ª—è
   - MQTT –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –≤ —Ä–µ–∞–ª-—Ç–∞–π–º
   - –õ–µ–≥–∫–æ –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Ä–æ–±–æ—Ç—É —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—ó

---

## üéØ –î–ª—è –∫–æ–≥–æ —Ü—è –≤–µ—Ä—Å—ñ—è?

‚úÖ **–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ, —è–∫—â–æ:**
- –•–æ—á–µ—Ç–µ –ø–æ–≤–Ω–∏–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ —ñ–Ω—Ç–µ—Ä–≤–∞–ª–æ–º –æ–ø–∏—Ç—É–≤–∞–Ω–Ω—è
- –ü–æ—Ç—Ä—ñ–±–Ω–æ –¥—ñ–∞–≥–Ω–æ—Å—Ç—É–≤–∞—Ç–∏ —Ä–æ–±–æ—Ç—É —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—ó
- –•–æ—á–µ—Ç–µ –±–∞—á–∏—Ç–∏ –¥–µ—Ç–∞–ª—å–Ω—ñ –ª–æ–≥–∏ –∑–º—ñ–Ω
- –†–∞–Ω—ñ—à–µ –±–∞—á–∏–ª–∏ "—ñ–Ω—Ç–µ—Ä–≤–∞–ª –∑–º—ñ–Ω–∏–≤—Å—è –Ω–∞ 30/60 —Å–µ–∫—É–Ω–¥" —ñ —Ü–µ –≤–∞—Å –±–µ–Ω—Ç–µ–∂–∏–ª–æ

‚ö†Ô∏è **–ó–∞—á–µ–∫–∞–π—Ç–µ stable, —è–∫—â–æ:**
- –í—Å–µ –ø—Ä–∞—Ü—é—î –¥–æ–±—Ä–µ —ñ –≤–∏ –Ω–µ —Ö–æ—á–µ—Ç–µ —Ä–∏–∑–∏–∫—É–≤–∞—Ç–∏
- –ù–µ –º–∞—î—Ç–µ —á–∞—Å—É –Ω–∞ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è
- –ü–æ—Ç—Ä—ñ–±–Ω–∞ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞ —Å—Ç–∞–±—ñ–ª—å–Ω—ñ—Å—Ç—å

---

## üì• –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è

### –í–∞—Ä—ñ–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ HACS (–Ω–∞–π–ø—Ä–æ—Å—Ç—ñ—à–µ)

1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ **HACS** ‚Üí **Integrations**
2. –ó–Ω–∞–π–¥—ñ—Ç—å **EcoFlow API**
3. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **Update** ‚Üí –æ–±–µ—Ä—ñ—Ç—å **v1.4.0-beta5**
4. **Restart Home Assistant**

### –í–∞—Ä—ñ–∞–Ω—Ç 2: –í—Ä—É—á–Ω—É

1. –ó–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ `ecoflow-api-v1.4.0-beta5.zip`
2. –†–æ–∑–ø–∞–∫—É–π—Ç–µ –≤ `config/custom_components/`
3. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–∞—î –±—É—Ç–∏:
   ```
   config/
   ‚îî‚îÄ‚îÄ custom_components/
       ‚îî‚îÄ‚îÄ ecoflow_api/
           ‚îú‚îÄ‚îÄ __init__.py
           ‚îú‚îÄ‚îÄ manifest.json
           ‚îî‚îÄ‚îÄ ... (—ñ–Ω—à—ñ —Ñ–∞–π–ª–∏)
   ```
4. **Restart Home Assistant**

---

## ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø—ñ—Å–ª—è –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è

1. **–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –≤–µ—Ä—Å—ñ—é**:
   - Settings ‚Üí Devices & Services ‚Üí EcoFlow API
   - –ú–∞—î –±—É—Ç–∏ `Version 1.4.0-beta5`

2. **–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥–∏**:
   - Settings ‚Üí System ‚Üí Logs
   - –§—ñ–ª—å—Ç—Ä: `ecoflow_api.hybrid_coordinator`
   - –®—É–∫–∞–π—Ç–µ:
     ```
     üîÑ [14:23:15] REST UPDATE TRIGGERED (configured_interval=15s, actual_since_last=15.1s)
     ‚ö° [14:23:17] MQTT message: 5 fields updated
     ```

3. **–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —ñ–Ω—Ç–µ—Ä–≤–∞–ª**:
   - –î–∏–≤—ñ—Ç—å—Å—è –Ω–∞ `actual_since_last` –≤ –ª–æ–≥–∞—Ö
   - –ú–∞—î –±—É—Ç–∏ ‚âà –≤–∞—à–æ–º—É –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—é (15s, 30s, —Ç–æ—â–æ)
   - –ù–ï –º–∞—î –±—É—Ç–∏ –ø–æ–¥–≤–æ—î–Ω–∏–º!

---

## üîß –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

–†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω—ñ —ñ–Ω—Ç–µ—Ä–≤–∞–ª–∏ –¥–ª—è –≥—ñ–±—Ä–∏–¥–Ω–æ–≥–æ —Ä–µ–∂–∏–º—É (REST + MQTT):

| –Ü–Ω—Ç–µ—Ä–≤–∞–ª | –î–ª—è —á–æ–≥–æ | –ù–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è API |
|----------|----------|------------------|
| **5 —Å–µ–∫—É–Ω–¥** | –î–µ–±–∞–≥ | –í–∏—Å–æ–∫–µ ‚ö†Ô∏è |
| **10 —Å–µ–∫—É–Ω–¥** | –ß–∞—Å—Ç—ñ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è | –°–µ—Ä–µ–¥–Ω—î |
| **15 —Å–µ–∫—É–Ω–¥** ‚úÖ | **–†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ** | –û–ø—Ç–∏–º–∞–ª—å–Ω–æ |
| **30 —Å–µ–∫—É–Ω–¥** | –ú–µ–Ω—à–µ –∑–∞–ø–∏—Ç—ñ–≤ | –ù–∏–∑—å–∫–µ |
| **60 —Å–µ–∫—É–Ω–¥** | –ú—ñ–Ω—ñ–º—É–º | –î—É–∂–µ –Ω–∏–∑—å–∫–µ |

**–ü—Ä–∏–º—ñ—Ç–∫–∞**: MQTT –ø—Ä–∞—Ü—é—î –Ω–µ–∑–∞–ª–µ–∂–Ω–æ —ñ –æ–Ω–æ–≤–ª—é—î –¥–∞–Ω—ñ –∫–æ–∂–Ω—ñ 2-3 —Å–µ–∫—É–Ω–¥–∏ –≤ —Ä–µ–∞–ª-—Ç–∞–π–º!

---

## üìä –ü—Ä–∏–∫–ª–∞–¥ –ª–æ–≥—ñ–≤

```
üîÑ [14:23:00] REST UPDATE TRIGGERED (configured_interval=15s, actual_since_last=0.0s, mqtt=ON)
‚úÖ [14:23:00] REST update for 0274: received 160 fields, 5 changed
üìä [14:23:00] Changed fields (5 total):
   ‚Ä¢ bmsBattSoc: 86 ‚Üí 85
   ‚Ä¢ invOutputWatts: 0 ‚Üí 120
   ‚Ä¢ acOutputOn: 0 ‚Üí 1
   ‚Ä¢ invOutputVolt: 0 ‚Üí 230
   ‚Ä¢ invOutputAmp: 0 ‚Üí 0.5
üîÄ [14:23:00] Merged data: REST=160 + MQTT=87 = Total=243 fields

‚ö° [14:23:03] MQTT message for 0274: 3 fields updated
‚ö° [14:23:06] MQTT message for 0274: 5 fields updated
‚ö° [14:23:09] MQTT message for 0274: 2 fields updated
‚ö° [14:23:12] MQTT message for 0274: 4 fields updated

üîÑ [14:23:15] REST UPDATE TRIGGERED (configured_interval=15s, actual_since_last=15.0s, mqtt=ON)
‚úÖ [14:23:15] REST update for 0274: received 160 fields, 2 changed
üìä [14:23:15] Changed fields (2 total):
   ‚Ä¢ bmsBattSoc: 85 ‚Üí 84
   ‚Ä¢ invOutputWatts: 120 ‚Üí 118
üîÄ [14:23:15] Merged data: REST=160 + MQTT=250 = Total=269 fields
```

**–ó–≤–µ—Ä—Ç–∞–π—Ç–µ —É–≤–∞–≥—É –Ω–∞:**
- ‚úÖ `actual_since_last=15.0s` - —Ç–æ—á–Ω–æ 15 —Å–µ–∫—É–Ω–¥!
- ‚úÖ REST –∫–æ–∂–Ω—ñ 15 —Å–µ–∫—É–Ω–¥
- ‚úÖ MQTT –∫–æ–∂–Ω—ñ 2-3 —Å–µ–∫—É–Ω–¥–∏
- ‚úÖ –ü–æ–∫–∞–∑—É—î –≤—Å—ñ –∑–º—ñ–Ω–µ–Ω—ñ –ø–æ–ª—è

---

## üêõ –ó–Ω–∞–π—à–ª–∏ –ø—Ä–æ–±–ª–µ–º—É?

1. **–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥–∏** - –±—ñ–ª—å—à—ñ—Å—Ç—å –ø—Ä–æ–±–ª–µ–º –≤–∏–¥–Ω–æ –≤ –ª–æ–≥–∞—Ö
2. **–°—Ç–≤–æ—Ä—ñ—Ç—å issue** –Ω–∞ [GitHub](https://github.com/TarasKhust/ecoflow-api-mqtt/issues)
3. **–î–æ–¥–∞–π—Ç–µ**:
   - –í–µ—Ä—Å—ñ—é Home Assistant
   - –ú–æ–¥–µ–ª—å –ø—Ä–∏—Å—Ç—Ä–æ—é (Delta Pro 3, —Ç–æ—â–æ)
   - –õ–æ–≥–∏ (Settings ‚Üí System ‚Üí Logs)
   - –©–æ –æ—á—ñ–∫—É–≤–∞–ª–∏ / —â–æ —Å—Ç–∞–ª–æ—Å—è

---

## üìö –î–æ–¥–∞—Ç–∫–æ–≤–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è

- üìÑ [RELEASE_NOTES_v1.4.0-beta5.md](RELEASE_NOTES_v1.4.0-beta5.md) - –ø–æ–≤–Ω—ñ release notes
- üìÑ [BUGFIX_interval_logic.md](BUGFIX_interval_logic.md) - —Ç–µ—Ö–Ω—ñ—á–Ω–∏–π –æ–ø–∏—Å –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è
- üìÑ [LOGGING_EXAMPLE.md](LOGGING_EXAMPLE.md) - –¥–µ—Ç–∞–ª—å–Ω—ñ –ø—Ä–∏–∫–ª–∞–¥–∏ –ª–æ–≥—ñ–≤

---

## üìù Changelog (–∫–æ—Ä–æ—Ç–∫–æ)

### –í–∏–ø—Ä–∞–≤–ª–µ–Ω–æ ‚úÖ
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –∑–º—ñ–Ω–∞ —ñ–Ω—Ç–µ—Ä–≤–∞–ª—É –ø—Ä–∏ MQTT
- –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–µ –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è —ñ–Ω—Ç–µ—Ä–≤–∞–ª—É –≤ UI

### –î–æ–¥–∞–Ω–æ ‚ú®
- –î–µ—Ç–∞–ª—å–Ω–µ –ª–æ–≥—É–≤–∞–Ω–Ω—è –∑ timestamp
- –í—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ —á–∞—Å—É –º—ñ–∂ REST –∑–∞–ø–∏—Ç–∞–º–∏
- –ü–æ–∫–∞–∑ –≤—Å—ñ—Ö –∑–º—ñ–Ω–µ–Ω–∏—Ö –ø–æ–ª—ñ–≤
- –ü–æ–∫—Ä–∞—â–µ–Ω–µ MQTT –ª–æ–≥—É–≤–∞–Ω–Ω—è

---

## ‚ö†Ô∏è –í–∞–∂–ª–∏–≤–æ

**–¶–µ beta –≤–µ—Ä—Å—ñ—è!** –ü—Ä–æ—Ç–µ—Å—Ç—É–π—Ç–µ –Ω–∞ —Ç–µ—Å—Ç–æ–≤–æ–º—É —Å–µ—Ä–µ–¥–æ–≤–∏—â—ñ –ø–µ—Ä–µ–¥ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º —É –ø—Ä–æ–¥–∞–∫—à–Ω.

**–ó–º—ñ–Ω–∏ –≤ –ø–æ–≤–µ–¥—ñ–Ω—Ü—ñ:**
- –†–∞–Ω—ñ—à–µ: —ñ–Ω—Ç–µ—Ä–≤–∞–ª –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ √ó 2 –ø—Ä–∏ MQTT
- –¢–µ–ø–µ—Ä: —ñ–Ω—Ç–µ—Ä–≤–∞–ª –∑–∞–≤–∂–¥–∏ —è–∫ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ

**–Ø–∫—â–æ –≤–∏ –ø–æ–∫–ª–∞–¥–∞–ª–∏—Å—è –Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –∑–±—ñ–ª—å—à–µ–Ω–Ω—è:**
- –ü—Ä–æ—Å—Ç–æ –∑–±—ñ–ª—å—à—Ç–µ —ñ–Ω—Ç–µ—Ä–≤–∞–ª –≤—Ä—É—á–Ω—É –≤ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è—Ö (15s ‚Üí 30s)

---

## üôè –î—è–∫—É—é

–î—è–∫—É—é –≤—Å—ñ–º —Ç–µ—Å—Ç–µ—Ä–∞–º —Ç–∞ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º –∑–∞ feedback!

**–¢–∞r–∞s Khust**  
[@TarasKhust](https://github.com/TarasKhust)

---

**–ì–∞—Ä–Ω–æ–≥–æ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è!** üöÄ

